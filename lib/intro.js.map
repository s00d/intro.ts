{"version":3,"file":"intro.js","mappings":"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","sources":["webpack://intro-ts/./src/Block.ts","webpack://intro-ts/./src/EventEmitter.ts","webpack://intro-ts/./src/Helpers/PosSetter.ts","webpack://intro-ts/./src/Helpers/_getOffset.ts","webpack://intro-ts/./src/Helpers/_getPropValue.ts","webpack://intro-ts/./src/Helpers/_getWinSize.ts","webpack://intro-ts/./src/Helpers/_isFixed.ts","webpack://intro-ts/./src/Helpers/_removeEntry.ts","webpack://intro-ts/./src/Helpers/_setHelperLayerPosition.ts","webpack://intro-ts/./src/Helpers/mergeOptions.ts","webpack://intro-ts/./src/Intro.ts","webpack://intro-ts/webpack/bootstrap","webpack://intro-ts/webpack/startup"],"sourcesContent":["import {Options} from \"./types\";\nimport {PosSetter} from \"./Helpers/PosSetter\";\nimport {_setHelperLayerPosition} from \"./Helpers/_setHelperLayerPosition\";\nimport {_getOffset} from \"./Helpers/_getOffset\";\n\nexport class Block {\n  private layer: HTMLDivElement;\n  private reference: HTMLDivElement;\n  private arrow: HTMLDivElement;\n  private tooltip: HTMLDivElement;\n  private tooltipText: HTMLDivElement;\n  private progress: HTMLDivElement;\n  private progressBar: HTMLDivElement;\n  private buttons: HTMLDivElement;\n  private helperElementPadding: number;\n  private buttonsList: {\n    [name: string]: HTMLAnchorElement;\n  } = {}\n  private overlay: HTMLDivElement;\n  private helperNumberLayer: HTMLSpanElement;\n  private targetElement: HTMLElement;\n  private helper: HTMLDivElement;\n  private _posSetter: PosSetter;\n\n  constructor(helperElementPadding = 0, showStepNumbers:boolean, positionPrecedence:Array<string>) {\n    this.helperElementPadding = helperElementPadding\n    this._posSetter = new PosSetter(showStepNumbers, positionPrecedence)\n\n  }\n\n  create(targetElement: HTMLElement, options: Options) {\n    this.targetElement = targetElement\n    this.generateLayer();\n    this.generateOverlay()\n    this.generateReference();\n    this.generateHelperNumber();\n    this.generateTooltip();\n    this.generateTooltipText();\n    this.generateArrow();\n    this.generateButtons();\n    this.generateProgress();\n  }\n\n  createButton(name: string, label: string, className: string, callback: () => void, last = true) {\n    let button = document.createElement('a');\n    button.onclick = callback;\n    button.className = 'introts-button ' + className;\n    button.setAttribute('role', 'button');\n    button.tabIndex = Object.keys(this.buttonsList).length;\n    button.innerHTML = label;\n    if(last) this.buttonsList[name] = button;\n    if(!last) this.buttonsList = Object.assign({name: button}, this.buttonsList);\n  }\n\n  addButton(name: string, label: string, className: string, callback: () => void, last = true) {\n    let button = document.createElement('a');\n    button.onclick = callback;\n    button.className = 'introts-button ' + className;\n    button.setAttribute('role', 'button');\n    button.tabIndex = Object.keys(this.buttonsList).length;\n    button.innerHTML = label;\n    this.buttonsList[name] = button;\n    if(!last) this.buttons.append(this.buttonsList[name]);\n    if(last) this.buttons.prepend(this.buttonsList[name]);\n  }\n\n  removeButton(name: string) {\n    if(!this.buttonsList[name]) return;\n    this.buttonsList[name].remove()\n    delete this.buttonsList[name];\n  }\n\n  setButtonsClass(first: boolean, last: boolean, hide: boolean) {\n    this.removeButtonClass('previous', 'introts-hidden')\n    this.removeButtonClass('next', 'introts-hidden')\n    this.removeButtonClass('previous', 'introts-disabled')\n    this.removeButtonClass('next', 'introts-disabled')\n    if(first) {\n      this.setButtonClass('previous', hide?'introts-hidden':'introts-disabled')\n    }\n    if(last) {\n      this.setButtonClass('next', hide?'introts-hidden':'introts-disabled')\n    }\n  }\n  setButtonClass(button: string, className: string) {\n    if(!this.buttonsList[button]) return;\n    this.buttonsList[button].classList.add(className)\n  }\n\n  setButtonText(button: string, text: string) {\n    if(!this.buttonsList[button]) return;\n    this.buttonsList[button].innerHTML = text\n  }\n\n  removeButtonClass(button: string, className: string) {\n    this.buttonsList[button].classList.remove(className)\n  }\n\n  disable() {\n    this.layer.remove()\n  }\n\n  setProgress(progress = 0, step = 0) {\n    this.progressBar.setAttribute('aria-valuenow', progress.toString());\n    this.progressBar.style.cssText = 'width:' + progress + '%;';\n    this.helperNumberLayer.innerHTML = (step+1).toString();\n\n    this.helperNumberLayer.dataset.activeStep = step.toString();\n  }\n\n  addHelperClass(highlightClass: string) {\n    if(!this.helper) {\n      this.helper = document.createElement('div');\n      this.layer.append(this.helper);\n    }\n    this.helper.classList.add(highlightClass);\n  }\n\n  removeHelperClass(highlightClass: string) {\n    if(!this.helper) return;\n    this.helper.classList.remove(highlightClass);\n  }\n\n  setShowButtons() {\n    this.buttons.style.removeProperty('display');\n  }\n  setShowProgress() {\n    this.progress.style.removeProperty('display');\n  }\n\n  setWidth(width: string|null) {\n    if(width) {\n      this.tooltip.style.width = width+'px'\n      this.tooltip.style.maxWidth = width+'px'\n    } else {\n      this.tooltip.style.removeProperty(\"width\");\n      this.tooltip.style.removeProperty(\"maxWidth\");\n    }\n  }\n\n  setText(text: string) {\n    this.tooltipText.innerHTML = text;\n  }\n\n  setShowHelperNumber() {\n    this.helperNumberLayer.style.removeProperty('display')\n  }\n\n  overlayClick() {}\n\n  setOverlayOpacity(overlayOpacity: number) {\n    let styleText = this.overlay.style.cssText;\n    setTimeout(() => {\n      styleText += 'opacity: ' + overlayOpacity.toString() + ';';\n      this.overlay.style.cssText = styleText;\n    }, 10);\n  }\n\n  generateButtons() {\n    this.buttons = document.createElement('div');\n    this.buttons.className = 'introts-tooltipbuttons';\n    this.buttons.style.display = 'none';\n\n    for(let name in this.buttonsList) {\n      this.buttons.append(this.buttonsList[name]);\n      if(name === 'next') {\n        this.buttonsList[name].focus();\n      }\n    }\n\n    this.tooltip.append(this.buttons);\n  }\n\n  updatePosition(step: number|undefined) {\n    _setHelperLayerPosition(this.targetElement, this.reference, this.helperElementPadding)\n    _setHelperLayerPosition(this.targetElement, this.helper, this.helperElementPadding)\n\n    if(step !== undefined) {\n      this._posSetter.place(step, this.tooltip, this.arrow, this.helperNumberLayer);\n    }\n  }\n\n  protected generateHelperNumber() {\n    this.helperNumberLayer = document.createElement('span');\n    this.helperNumberLayer.style.display = 'none';\n    this.helperNumberLayer.className = 'introts-helperNumberLayer';\n    this.helperNumberLayer.innerHTML = '0';\n    this.reference.append(this.helperNumberLayer);\n  }\n\n  protected generateOverlay() {\n    this.overlay = document.createElement('div')\n    let styles = 'opacity: 0;';\n    this.overlay.className = 'introts-overlay';\n    if (!this.targetElement.tagName || this.targetElement.tagName.toLowerCase() === 'body') {\n      styles += 'top: 0;bottom: 0; left: 0;right: 0;position: fixed;';\n      this.overlay.style.cssText = styles;\n    } else {\n      const elementPosition = _getOffset(this.targetElement);\n      if (elementPosition) {\n        styles += 'width: ' + elementPosition.width + 'px; height:' + elementPosition.height + 'px; top:' + elementPosition.top + 'px;left: ' + elementPosition.left + 'px;';\n        this.overlay.style.cssText = styles;\n      }\n    }\n    this.overlay.onclick = this.overlayClick;\n    this.layer.append(this.overlay);\n  }\n\n  protected generateProgress() {\n    this.progress = document.createElement('div');\n    this.progress.className = 'introts-progress';\n    this.progress.style.display = 'none';\n\n    this.progressBar = document.createElement('div');\n    this.progressBar.className = 'introts-progressbar';\n    this.progressBar.setAttribute('role', 'progress');\n    this.progressBar.setAttribute('aria-valuemin', '0');\n    this.progressBar.setAttribute('aria-valuemax', '100');\n    this.progressBar.setAttribute('aria-valuenow', '0');\n    this.progressBar.style.cssText = 'width: 0%;';\n\n    this.progress.append(this.progressBar);\n    this.tooltip.append(this.progress);\n  }\n\n  protected generateLayer() {\n    this.layer = document.createElement('div');\n    this.layer.className = 'introts';\n    this.targetElement.append(this.layer)\n  }\n\n  protected generateTooltipText() {\n    this.tooltipText = document.createElement('div');\n    this.tooltipText.className = 'introts-tooltiptext';\n    this.tooltipText.innerHTML = '';\n    this.tooltip.append(this.tooltipText);\n\n  }\n\n  protected generateTooltip() {\n    this.tooltip = document.createElement('div');\n    this.tooltip.className = 'introts-tooltip';\n    this.reference.append(this.tooltip);\n  }\n\n  protected generateArrow() {\n    this.arrow = document.createElement('div');\n    this.arrow.className = 'introts-arrow';\n    this.tooltip.append(this.arrow);\n  }\n\n  protected generateReference() {\n    this.reference = document.createElement('div');\n    this.reference.className = 'introts-tooltipReferenceLayer';\n    this.layer.append(this.reference);\n  }\n}\n","export class EventEmitter {\n  private listeners: {[key: string]: any} = {};\n\n  addEventListener(type: string, callback: (params: any) => void) {\n    this.listeners[type] = callback;\n  }\n\n  removeEventListener(type: string) {\n    if(this.listeners[type]) {\n      delete this.listeners[type];\n    }\n  }\n\n  protected dispatch(event: string, args: {[key: string]: any } = {}) {\n    if(this.listeners[event]) {\n      this.listeners[event](args);\n    }\n    if(this.listeners['event']) {\n      args.event = event;\n      this.listeners['event'](args);\n    }\n  }\n}\n","import {size} from \"../types\";\nimport {_getOffset} from \"./_getOffset\";\nimport {_getWinSize} from \"./_getWinSize\";\nimport {_removeEntry} from \"./_removeEntry\";\n\nexport class PosSetter {\n  private readonly showStepNumbers: boolean;\n  private readonly positionPrecedence: Array<string>;\n  constructor(showStepNumbers: boolean = false, positionPrecedence: Array<string> = []) {\n    this.showStepNumbers = showStepNumbers\n    this.positionPrecedence = positionPrecedence\n  }\n\n  place(step:number|undefined, tooltipLayer: HTMLElement, arrowLayer: HTMLElement, helperNumberLayer: HTMLElement) {\n    if (step === undefined) return;\n    if (!tooltipLayer) return;\n\n    //reset the old style\n    tooltipLayer.style.removeProperty('top');\n    tooltipLayer.style.removeProperty('right');\n    tooltipLayer.style.removeProperty('bottom');\n    tooltipLayer.style.removeProperty('left');\n    tooltipLayer.style.removeProperty('marginLeft');\n    tooltipLayer.style.removeProperty('marginTop');\n\n    arrowLayer.style.display = 'inherit';\n\n    if (typeof(helperNumberLayer) !== 'undefined' && helperNumberLayer !== null) {\n      helperNumberLayer.style.removeProperty('top');\n      helperNumberLayer.style.removeProperty('left');\n    }\n\n    //if we have a custom css class for each step\n    tooltipLayer.className = 'introts-tooltip';\n    tooltipLayer.setAttribute('role', 'dialog');\n\n\n    const element = <HTMLElement>document.querySelector(`*[data-step='${step}']`);\n    let currentTooltipPosition = element.dataset.position ?? 'default';\n    // Floating is always valid, no point in calculating\n    if (currentTooltipPosition !== \"floating\") {\n      currentTooltipPosition = this._determineAutoPosition(element, tooltipLayer, currentTooltipPosition);\n    }\n\n    let targetOffset  = _getOffset(element);\n    let tooltipOffset = _getOffset(tooltipLayer);\n    let windowSize    = _getWinSize();\n\n    tooltipLayer.classList.add('introts-' + currentTooltipPosition)\n\n    switch (currentTooltipPosition) {\n      case 'top-right-aligned':\n        this.topRightAligned(targetOffset, arrowLayer, tooltipOffset, tooltipLayer, windowSize, helperNumberLayer)\n        break;\n      case 'top-middle-aligned':\n        this.topMiddleAligned(targetOffset, arrowLayer, tooltipOffset, tooltipLayer, windowSize, helperNumberLayer)\n        break;\n      case 'top':\n        this.top(targetOffset, arrowLayer, tooltipOffset, tooltipLayer, windowSize, helperNumberLayer)\n        break;\n      case 'right':\n        this.right(targetOffset, arrowLayer, tooltipOffset, tooltipLayer, windowSize, helperNumberLayer)\n        break;\n      case 'left':\n        this.left(targetOffset, arrowLayer, tooltipOffset, tooltipLayer, windowSize, helperNumberLayer)\n        break;\n      case 'floating':\n        this.floating(targetOffset, arrowLayer, tooltipOffset, tooltipLayer, windowSize, helperNumberLayer)\n        break;\n      case 'bottom-right-aligned':\n        this.bottomRightAligned(targetOffset, arrowLayer, tooltipOffset, tooltipLayer, windowSize, helperNumberLayer)\n        break;\n      case 'bottom-middle-aligned':\n        this.bottomMiddleAligned(targetOffset, arrowLayer, tooltipOffset, tooltipLayer, windowSize, helperNumberLayer)\n        break;\n      default:\n        this.default(targetOffset, arrowLayer, tooltipOffset, tooltipLayer, windowSize, helperNumberLayer)\n    }\n  }\n\n  private _determineAutoAlignment (offsetLeft: number, tooltipWidth: number, { width }: { width: number }, desiredAlignment: string) {\n    const halfTooltipWidth = tooltipWidth / 2;\n    const winWidth = Math.min(width, window.screen.width);\n    const possibleAlignments = [\n      \"-left-aligned\",\n      \"-middle-aligned\",\n      \"-right-aligned\",\n    ];\n    let calculatedAlignment = \"\";\n\n    // valid left must be at least a tooltipWidth\n    // away from right side\n    if (winWidth - offsetLeft < tooltipWidth) {\n      _removeEntry(possibleAlignments, \"-left-aligned\");\n    }\n\n    // valid middle must be at least half\n    // width away from both sides\n    if (\n      offsetLeft < halfTooltipWidth ||\n      winWidth - offsetLeft < halfTooltipWidth\n    ) {\n      _removeEntry(possibleAlignments, \"-middle-aligned\");\n    }\n\n    // valid right must be at least a tooltipWidth\n    // width away from left side\n    if (offsetLeft < tooltipWidth) {\n      _removeEntry(possibleAlignments, \"-right-aligned\");\n    }\n\n    if (possibleAlignments.length) {\n      if (possibleAlignments.includes(desiredAlignment)) {\n        // the desired alignment is valid\n        calculatedAlignment = desiredAlignment;\n      } else {\n        // pick the first valid position, in order\n        calculatedAlignment = possibleAlignments[0];\n      }\n    } else {\n      // if screen width is too small\n      // for ANY alignment, middle is\n      // probably the best for visibility\n      calculatedAlignment = \"-middle-aligned\";\n    }\n\n    return calculatedAlignment;\n  }\n\n  private _determineAutoPosition(targetElement: HTMLElement, tooltipLayer: HTMLElement, desiredTooltipPosition: string) {\n// Take a clone of position precedence. These will be the available\n    const possiblePositions = this.positionPrecedence!.slice();\n\n    const windowSize = _getWinSize();\n    const tooltipHeight = _getOffset.call(this, tooltipLayer).height + 10;\n    const tooltipWidth = _getOffset.call(this, tooltipLayer).width + 20;\n    const targetElementRect = targetElement.getBoundingClientRect();\n\n    // If we check all the possible areas, and there are no valid places for the tooltip, the element\n    // must take up most of the screen real estate. Show the tooltip floating in the middle of the screen.\n    let calculatedPosition = \"floating\";\n\n    /*\n     * auto determine position\n     */\n\n    // Check for space below\n    if (targetElementRect.bottom + tooltipHeight > windowSize.height) {\n      _removeEntry(possiblePositions, \"bottom\");\n    }\n\n    // Check for space above\n    if (targetElementRect.top - tooltipHeight < 0) {\n      _removeEntry(possiblePositions, \"top\");\n    }\n\n    // Check for space to the right\n    if (targetElementRect.right + tooltipWidth > windowSize.width) {\n      _removeEntry(possiblePositions, \"right\");\n    }\n\n    // Check for space to the left\n    if (targetElementRect.left - tooltipWidth < 0) {\n      _removeEntry(possiblePositions, \"left\");\n    }\n\n    // @var {String}  ex: 'right-aligned'\n    const desiredAlignment = ((pos) => {\n      const hyphenIndex = pos.indexOf(\"-\");\n      if (hyphenIndex !== -1) {\n        // has alignment\n        return pos.substr(hyphenIndex);\n      }\n      return \"\";\n    })(desiredTooltipPosition || \"\");\n\n    // strip alignment from position\n    if (desiredTooltipPosition) {\n      // ex: \"bottom-right-aligned\"\n      // should return 'bottom'\n      desiredTooltipPosition = desiredTooltipPosition.split(\"-\")[0];\n    }\n\n    if (possiblePositions.length) {\n      if (possiblePositions.includes(desiredTooltipPosition)) {\n        // If the requested position is in the list, choose that\n        calculatedPosition = desiredTooltipPosition;\n      } else {\n        // Pick the first valid position, in order\n        calculatedPosition = possiblePositions[0];\n      }\n    }\n\n    // only top and bottom positions have optional alignments\n    if ([\"top\", \"bottom\"].includes(calculatedPosition)) {\n      calculatedPosition += this._determineAutoAlignment(\n        targetElementRect.left,\n        tooltipWidth,\n        windowSize,\n        desiredAlignment\n      );\n    }\n\n    return calculatedPosition;\n  }\n\n  private _checkLeft(targetOffset: size, tooltipLayerStyleRight: number, tooltipOffset: size, tooltipLayer: HTMLElement) {\n    if (targetOffset.left + targetOffset.width - tooltipLayerStyleRight - tooltipOffset.width < 0) {\n      // off the left side of the window\n      tooltipLayer.style.left = (-targetOffset.left) + 'px';\n      return false;\n    }\n    tooltipLayer.style.right = tooltipLayerStyleRight + 'px';\n    return true;\n  }\n  private _checkRight(targetOffset: size, tooltipLayerStyleLeft:number, tooltipOffset: size, windowSize: size, tooltipLayer: HTMLElement) {\n    if (targetOffset.left + tooltipLayerStyleLeft + tooltipOffset.width > windowSize.width) {\n      // off the right side of the window\n      tooltipLayer.style.left = (windowSize.width - tooltipOffset.width - targetOffset.left) + 'px';\n      return false;\n    }\n    tooltipLayer.style.left = tooltipLayerStyleLeft + 'px';\n    return true;\n  }\n\n  private topRightAligned(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    arrowLayer.className      = 'introts-arrow bottom-right';\n\n    this._checkLeft(targetOffset, 0, tooltipOffset, tooltipLayer);\n    tooltipLayer.style.bottom = (targetOffset.height +  20) + 'px';\n  }\n\n  private topMiddleAligned(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    arrowLayer.className      = 'introts-arrow bottom-middle';\n\n    var tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2;\n\n    if (this._checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n      tooltipLayer.style.removeProperty('right');\n      this._checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n    }\n    tooltipLayer.style.bottom = (targetOffset.height + 20) + 'px';\n  }\n\n  private topLeftAligned(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    // top-left-aligned is the same as the default top\n  }\n\n  private top(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    arrowLayer.className = 'introts-arrow bottom';\n    this._checkRight(targetOffset, 0, tooltipOffset, windowSize, tooltipLayer);\n    tooltipLayer.style.bottom = (targetOffset.height +  20) + 'px';\n  }\n\n  private right(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    tooltipLayer.style.left = (targetOffset.width + 20) + 'px';\n    if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n      arrowLayer.className = \"introts-arrow left-bottom\";\n      tooltipLayer.style.top = \"-\" + (tooltipOffset.height - targetOffset.height - 20) + \"px\";\n    } else {\n      arrowLayer.className = 'introts-arrow left';\n    }\n  }\n\n  private left(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    if (this.showStepNumbers) {\n      tooltipLayer.style.top = '15px';\n    }\n\n    if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n      tooltipLayer.style.top = \"-\" + (tooltipOffset.height - targetOffset.height - 20) + \"px\";\n      arrowLayer.className = 'introts-arrow right-bottom';\n    } else {\n      arrowLayer.className = 'introts-arrow right';\n    }\n    tooltipLayer.style.right = (targetOffset.width + 20) + 'px';\n  }\n\n  private floating(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    arrowLayer.style.display = 'none';\n    tooltipLayer.style.left   = '50%';\n    tooltipLayer.style.top    = '50%';\n    tooltipLayer.style.marginLeft = '-' + (tooltipOffset.width / 2)  + 'px';\n    tooltipLayer.style.marginTop  = '-' + (tooltipOffset.height / 2) + 'px';\n\n    if (typeof(helperNumberLayer) !== 'undefined' && helperNumberLayer !== null) {\n      helperNumberLayer.style.left = '-' + ((tooltipOffset.width / 2) + 18) + 'px';\n      helperNumberLayer.style.top  = '-' + ((tooltipOffset.height / 2) + 18) + 'px';\n    }\n  }\n\n  private bottomRightAligned(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    arrowLayer.className      = 'introts-arrow top-right';\n    this._checkLeft(targetOffset, 0, tooltipOffset, tooltipLayer);\n    tooltipLayer.style.top    = (targetOffset.height +  20) + 'px';\n  }\n\n\n  private bottomMiddleAligned(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    arrowLayer.className      = 'introts-arrow top-middle';\n\n    const tooltipLayerStyleLeftRight = targetOffset.width / 2 - tooltipOffset.width / 2;\n    if (this._checkLeft(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, tooltipLayer)) {\n      tooltipLayer.style.removeProperty('right');\n      this._checkRight(targetOffset, tooltipLayerStyleLeftRight, tooltipOffset, windowSize, tooltipLayer);\n    }\n    tooltipLayer.style.top = (targetOffset.height + 20) + 'px';\n  }\n\n  private default(targetOffset: size, arrowLayer: HTMLElement, tooltipOffset: size, tooltipLayer: HTMLElement, windowSize: size, helperNumberLayer: HTMLElement|null) {\n    arrowLayer.className = 'introts-arrow top';\n    this._checkRight(targetOffset, 0, tooltipOffset, windowSize, tooltipLayer);\n    tooltipLayer.style.top    = (targetOffset.height +  20) + 'px';\n  }\n}\n","import {size} from \"../types\";\nimport {_isFixed} from \"./_isFixed\";\nimport {_getPropValue} from \"./_getPropValue\";\n\nexport function _getOffset(element: HTMLElement, relativeEl: HTMLElement | null = null): size {\n  const body = document.body;\n  const docEl = document.documentElement;\n  const scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n  const scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n  relativeEl = relativeEl || body;\n\n  const x = element.getBoundingClientRect();\n  const xr = relativeEl.getBoundingClientRect();\n  const relativeElPosition = _getPropValue(relativeEl, \"position\");\n\n  let obj = {\n    width: x.width,\n    height: x.height,\n  };\n\n  if (\n    (relativeEl.tagName.toLowerCase() !== \"body\" &&\n      relativeElPosition === \"relative\") ||\n    relativeElPosition === \"sticky\"\n  ) {\n    // when the container of our target element is _not_ body and has either \"relative\" or \"sticky\" position, we should not\n    // consider the scroll position but we need to include the relative x/y of the container element\n    return Object.assign(obj, {\n      top: x.top - xr.top,\n      left: x.left - xr.left,\n    });\n  } else {\n    if (_isFixed(element)) {\n      return Object.assign(obj, {\n        top: x.top,\n        left: x.left,\n      });\n    } else {\n      return Object.assign(obj, {\n        top: x.top + scrollTop,\n        left: x.left + scrollLeft,\n      });\n    }\n  }\n}\n","\nexport function _getPropValue (element: HTMLElement, propName: string) {\n  let propValue = \"\";\n  // @ts-ignore\n  if (element.currentStyle) {\n    //IE\n    // @ts-ignore\n    propValue = element.currentStyle[propName];\n  } else if (document.defaultView && document.defaultView.getComputedStyle) {\n    //Others\n    propValue = document.defaultView\n      .getComputedStyle(element, null)\n      .getPropertyValue(propName);\n  }\n\n  //Prevent exception in IE\n  if (propValue && propValue.toLowerCase) {\n    return propValue.toLowerCase();\n  } else {\n    return propValue;\n  }\n}\n","import {size} from \"../types\";\n\nexport function _getWinSize(): size {\n  if (window.innerWidth !== undefined) {\n    return {\n      width: window.innerWidth,\n      height: window.innerHeight,\n      top: 0,\n      left: 0,\n    };\n  } else {\n    const D = document.documentElement;\n    return { width: D.clientWidth, height: D.clientHeight, top: 0, left: 0 };\n  }\n}\n","import {_getPropValue} from \"./_getPropValue\";\n\nexport function _isFixed(element: HTMLElement): boolean {\n  const p = element.parentNode as HTMLElement;\n\n  if (!p || p.nodeName === \"HTML\") {\n    return false;\n  }\n\n  if (_getPropValue(element, \"position\") === \"fixed\") {\n    return true;\n  }\n\n  return _isFixed(p);\n}\n","export function _removeEntry(stringArray: Array<string>, stringToRemove: string) {\n  if (stringArray.includes(stringToRemove)) {\n    stringArray.splice(stringArray.indexOf(stringToRemove), 1);\n  }\n}\n","import {_isFixed} from \"./_isFixed\";\nimport {_getOffset} from \"./_getOffset\";\nimport IntroTS from \"../Intro\";\n\nexport function _setHelperLayerPosition(targetElement: HTMLElement, helperLayer: HTMLDivElement, helperElementPadding: number = 0, offset: number = 0) {\n  if (helperLayer) {\n    const element = <HTMLElement>document.querySelector(`.intro-show`);\n    if(!element) return;\n    const elementPosition = _getOffset(element, targetElement)\n    let widthHeightPadding = helperElementPadding;\n\n    if (_isFixed(element)) {\n      helperLayer.classList.add('introts-fixedTooltip')\n    } else {\n      helperLayer.classList.remove('introts-fixedTooltip')\n    }\n\n    if (element.style.position === 'floating') {\n      widthHeightPadding = 0;\n    }\n\n    helperLayer.style.cssText = 'width: ' + (elementPosition.width + widthHeightPadding) + 'px; ' +\n      'height:' + (elementPosition.height + widthHeightPadding) + 'px; ' +\n      'top:' + (elementPosition.top - (widthHeightPadding / 2)) + 'px;' +\n      'left: ' + (elementPosition.left - ((widthHeightPadding + offset) / 2) - 1) + 'px;';\n\n  }\n}\n","import {Options} from \"../types\";\n\nexport function mergeOptions(oldOptions: Options|null = null, newOptions: Options|null = null): Options {\n  if(oldOptions === null) {\n    oldOptions = {\n      nextLabel: 'Next &rarr;',\n      prevLabel: '&larr; Back',\n      skipLabel: 'Skip',\n      doneLabel: null,\n      hidePrev: false,\n      hideNext: false,\n      hideSkip: false,\n      tooltipPosition: 'bottom',\n      highlight: true,\n      exitOnEsc: true,\n      exitOnOverlayClick: true,\n      showStepNumbers: true,\n      keyboardNavigation: true,\n      showButtons: true,\n      showBullets: true,\n      showProgress: true,\n      scrollToElement: true,\n      overlayOpacity: 0.5,\n      positionPrecedence: [\"bottom\", \"top\", \"right\", \"left\"],\n      helperElementPadding: 10,\n      steps: [],\n      additionalButtons: [],\n    }\n  }\n\n  if(newOptions === null) {\n    return oldOptions;\n  }\n  for (let i in newOptions) {\n    // @ts-ignore\n    oldOptions[i] = newOptions\n  }\n  return oldOptions;\n}\n","import { Options } from \"./types\";\nimport { Block } from \"./Block\";\nimport {EventEmitter} from \"./EventEmitter\";\nimport {mergeOptions} from \"./Helpers/mergeOptions\";\n\nclass IntroTS extends EventEmitter {\n  private _options: Options;\n  private _steps: Array<number> = [];\n  private _activeStep: number|null = null;\n  private _target: HTMLElement;\n  private block: Block;\n  private layer = false;\n  private active = false;\n\n  constructor(target: HTMLElement|null = null) {\n    super();\n    if(target === null) {\n      target = document.body\n    }\n\n    this._options = mergeOptions()\n    this._target = target as HTMLElement;\n    this.block = new Block(\n      this._options.helperElementPadding,\n      this._options.showStepNumbers,\n      this._options.positionPrecedence,\n    )\n  }\n\n  setOption(option: string, value: any) {\n    // @ts-ignore\n    this._options[option] = value;\n    return this\n  }\n\n  setOptions(options: Options) {\n    this._options = mergeOptions(this._options, options)\n    return this\n  }\n\n  refresh() {\n    this.start()\n    return this;\n  }\n\n  start(step:number|null = null) {\n    this.stop();\n    this._steps = [];\n    const elements = this._target.querySelectorAll(\"*[data-intro]\");\n    elements.forEach((el: HTMLElement, key: number) => {\n      if(!el.dataset.step) el.dataset.step = (key-1).toString();\n      this._steps.push(parseInt(<string>el.dataset.step, 10));\n    })\n    this._steps.sort();\n\n    if(step !== null) {\n      let none = true;\n      for(const i in this._steps) {\n        if(step === this._steps[i]) {\n          step = parseInt(i) - 1;\n          none = false;\n          break;\n        }\n      }\n      if(none) this.stop();\n    }\n\n    this.createElement(this._target)\n\n    this.next(step);\n    if (this._options.keyboardNavigation) {\n      window.addEventListener('keydown', (e) => this._onKeyDown(e))\n    }\n    window.addEventListener('resize', () => this.stop())\n\n    this.dispatch('start')\n    return this\n  }\n\n  getStep() {\n    if (this._activeStep === null || !this._steps[this._activeStep]) return null;\n    return this._steps[this._activeStep];\n  }\n\n  addStep(element: HTMLElement|string, intro: string, step: number = 1, position = 'right') {\n    if(typeof element === \"string\") {\n      let el = <HTMLElement>this._target.querySelector(element)\n      if(!el) return this;\n      element = el\n    }\n    element.dataset.intro = intro\n    element.dataset.step = step.toString();\n    element.dataset.position = position;\n    return this;\n  }\n\n  addSteps(data: Array<{element: HTMLElement, intro: string, position:string}>) {\n    for (let i in data) {\n      this.addStep(data[i].element, data[i].position, parseInt(i), data[i].position)\n    }\n    return this;\n  }\n\n  next(step: number|null = null, revert = false): void {\n    this.active = true;\n    if(step === null) step = this._activeStep\n    if(step === null) {\n      step = revert ? this._steps.length-1 : 0\n    } else {\n      const element = <HTMLElement>this._target.querySelector(`*[data-step='${this._steps[step]}']`);\n      if (element) {\n       element.classList.remove('intro-show')\n       element.classList.remove('introts-showElement')\n       element.classList.remove('introjs-relativePosition')\n      }\n\n      revert ? step-- : step++;\n      if(!this._steps[step]) {\n        this.stop()\n        return;\n      }\n      // if(!element) return this.next(step, revert);\n    }\n    if(!this._steps[step]) {\n      this.stop()\n      return;\n    }\n    const element = <HTMLElement>this._target.querySelector(`*[data-step='${this._steps[step]}']`);\n    if(!element) {\n      return this.next(revert ? --step : ++step, revert);\n    }\n    this._activeStep = step\n    element.classList.add('intro-show')\n    element.classList.add('introts-showElement')\n    element.classList.add('introts-relativePosition')\n    let position = element.getAttribute('data-position') ?? this._options.tooltipPosition\n    element.classList.add(`intro-${position}`)\n    this.block.setProgress(this.getProgress(), step)\n    this.block.setText(element.getAttribute('data-intro') ?? '')\n    this.block.updatePosition(this._steps[this._activeStep])\n    this.block.setWidth(element.getAttribute('data-width'))\n\n    this.block.setButtonsClass(step===0, step===this._steps.length-1, this._options.showButtons)\n    if(step===this._steps.length-1 && this._options.doneLabel) {\n      this.block.addButton('done', this._options.doneLabel, 'introts-button introts-nextbutton', ()=>this.dispatch('finish'), false);\n    } else if(this._options.doneLabel) {\n      this.block.removeButton('done')\n    }\n\n    if(this._options.hideSkip) {\n      this.block.setButtonClass('skip', 'introts-hidden')\n    }\n    if(this._options.hidePrev) {\n      this.block.setButtonClass('previous', 'introts-hidden')\n    }\n    if(this._options.hideNext) {\n      this.block.setButtonClass('next', 'introts-hidden')\n    }\n\n\n    if(element.dataset.interaction === 'no') {\n      this.block.addHelperClass('introts-disableInteraction')\n    } else {\n      this.block.removeHelperClass('introts-disableInteraction')\n    }\n\n    if(this._options.scrollToElement) {\n      if(element.dataset.scrollTo) {\n        const block = <HTMLElement>this._target.querySelector(element.dataset.scrollTo)\n        if(block) block.scrollIntoView({block: \"center\", behavior: \"auto\"});\n      } else {\n        element.scrollIntoView({block: \"center\", behavior: \"auto\"});\n      }\n    }\n\n    setTimeout(() => {\n      this.block.updatePosition(this._steps[this._activeStep!]);\n    }, 300);\n\n    this.dispatch(revert?'previous':'next', {step: step})\n  }\n\n  previous(step: number|null = null): void {\n    this.next(step, true)\n  }\n\n  stop(): void {\n    if(!this.active) return;\n    this.active = false;\n\n    this._target.querySelectorAll(`.intro-show`).forEach((item: HTMLElement) => {\n      item.classList.remove('intro-show')\n    });\n    this._target.querySelectorAll(`.introts-showElement`).forEach((item: HTMLElement) => {\n      item.classList.remove('introts-showElement')\n    });\n    this._target.querySelectorAll(`.introts-relativePosition`).forEach((item: HTMLElement) => {\n      item.classList.remove('introts-relativePosition')\n    });\n\n    window.removeEventListener('keydown', (e) => this._onKeyDown(e))\n    window.removeEventListener('resize', () => this.block.updatePosition(this._activeStep!==null?this._steps[this._activeStep]:undefined))\n\n    this.block.disable()\n    this._activeStep = null;\n\n    this.dispatch('stop')\n  }\n\n  protected _onKeyDown(e: KeyboardEvent) {\n    let code = (e.code === null) ? e.which : e.code;\n    if (code === null) {\n      code = (e.charCode === null) ? e.keyCode : e.charCode;\n    }\n    if ((code === 'Escape' || code === 27) && this._options.exitOnEsc) {\n      if(e.preventDefault) {e.preventDefault()} else {e.returnValue = false}\n      this.stop()\n    } else if (code === 'ArrowLeft' || code === 37) {\n      if(e.preventDefault) {e.preventDefault()} else {e.returnValue = false}\n      this.previous()\n    } else if (code === 'ArrowRight' || code === 39 || code === 'Enter' || code === 13) {\n      if(e.preventDefault) {e.preventDefault()} else {e.returnValue = false}\n      this.next()\n    }\n  }\n\n  protected getProgress() {\n    return ((((this._activeStep ?? 0)+1) / this._steps.length) * 100);\n  }\n\n  protected createElement(targetElement: HTMLElement): boolean {\n    for (let i in this._options.additionalButtons) {\n      let btn = this._options.additionalButtons[i]\n      this.block.createButton(btn.name, btn.label, btn.className, btn.callback);\n    }\n    if (this._options.exitOnOverlayClick) {\n      this.block.overlayClick = () => this.stop()\n    }\n    this.block.createButton('skip', this._options.skipLabel, 'introts-button introts-skipbutton', ()=>this.stop());\n    this.block.createButton('previous', this._options.prevLabel, 'introts-button introts-prevbutton', ()=>this.previous());\n    this.block.createButton('next', this._options.nextLabel, 'introts-button introts-nextbutton', ()=>this.next())\n\n    this.block.create(targetElement, this._options)\n    if (this._options.highlight) {\n      this.block.addHelperClass('introts-helperLayer')\n    }\n    if (this._options.showButtons) {\n      this.block.setShowButtons()\n    }\n    if (this._options.showProgress) {\n      this.block.setShowProgress()\n    }\n    if (this._options.showStepNumbers) {\n      this.block.setShowHelperNumber()\n    }\n\n    this.block.setOverlayOpacity(this._options.overlayOpacity);\n    this.layer = true;\n\n    this.dispatch('init')\n\n    return true;\n  }\n}\n\nexport default IntroTS\nexport { IntroTS }\n\ntry {\n  window.IntroTS = IntroTS;\n} catch(err) {}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(392);\n"],"names":["helperElementPadding","showStepNumbers","positionPrecedence","buttonsList","this","_posSetter","PosSetter","create","targetElement","options","generateLayer","generateOverlay","generateReference","generateHelperNumber","generateTooltip","generateTooltipText","generateArrow","generateButtons","generateProgress","createButton","name","label","className","callback","last","button","document","createElement","onclick","setAttribute","tabIndex","Object","keys","length","innerHTML","assign","addButton","buttons","append","prepend","removeButton","remove","setButtonsClass","first","hide","removeButtonClass","setButtonClass","classList","add","setButtonText","text","disable","layer","setProgress","progress","step","progressBar","toString","style","cssText","helperNumberLayer","dataset","activeStep","addHelperClass","highlightClass","helper","removeHelperClass","setShowButtons","removeProperty","setShowProgress","setWidth","width","tooltip","maxWidth","setText","tooltipText","setShowHelperNumber","overlayClick","setOverlayOpacity","overlayOpacity","styleText","overlay","setTimeout","display","focus","updatePosition","_setHelperLayerPosition","reference","undefined","place","arrow","styles","tagName","toLowerCase","elementPosition","_getOffset","height","top","left","Block","listeners","addEventListener","type","removeEventListener","dispatch","event","args","EventEmitter","tooltipLayer","arrowLayer","element","querySelector","currentTooltipPosition","position","_determineAutoPosition","targetOffset","tooltipOffset","windowSize","_getWinSize","topRightAligned","topMiddleAligned","right","floating","bottomRightAligned","bottomMiddleAligned","default","_determineAutoAlignment","offsetLeft","tooltipWidth","desiredAlignment","halfTooltipWidth","winWidth","Math","min","window","screen","possibleAlignments","_removeEntry","includes","desiredTooltipPosition","possiblePositions","slice","tooltipHeight","call","targetElementRect","getBoundingClientRect","calculatedPosition","bottom","pos","hyphenIndex","indexOf","substr","split","_checkLeft","tooltipLayerStyleRight","_checkRight","tooltipLayerStyleLeft","tooltipLayerStyleLeftRight","topLeftAligned","marginLeft","marginTop","relativeEl","body","docEl","documentElement","scrollTop","pageYOffset","scrollLeft","pageXOffset","x","xr","relativeElPosition","_getPropValue","obj","_isFixed","propName","propValue","currentStyle","defaultView","getComputedStyle","getPropertyValue","innerWidth","innerHeight","D","clientWidth","clientHeight","p","parentNode","nodeName","stringArray","stringToRemove","splice","helperLayer","offset","widthHeightPadding","oldOptions","newOptions","nextLabel","prevLabel","skipLabel","doneLabel","hidePrev","hideNext","hideSkip","tooltipPosition","highlight","exitOnEsc","exitOnOverlayClick","keyboardNavigation","showButtons","showBullets","showProgress","scrollToElement","steps","additionalButtons","i","target","_steps","_activeStep","active","_options","mergeOptions","_target","block","setOption","option","value","setOptions","refresh","start","stop","querySelectorAll","forEach","el","key","push","parseInt","sort","none","next","e","_onKeyDown","getStep","addStep","intro","addSteps","data","revert","getAttribute","getProgress","interaction","scrollTo","scrollIntoView","behavior","previous","item","code","which","charCode","keyCode","preventDefault","returnValue","btn","IntroTS","err","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__"],"sourceRoot":""}